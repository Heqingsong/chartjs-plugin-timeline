!function(e){function t(a){if(i[a])return i[a].exports;var n=i[a]={exports:{},id:a,loaded:!1};return e[a].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),o=a(n),u=i(2),l=a(u),r=i(3),f=a(r),s=i(4),d=a(s),c=i(6),m=a(c);o.default.TimeLine=o.default.TimeLine||{},o.default.TimeLine.configDefaults={brushDisplay:!1,_mouseup:null,_mousedown:null,_selected:!1,inBrush:!1,inBrushDrag:!1,_mouseStyle:["ew-resize","default"],brushPosition:{left:0,right:0,offsetX:0,endX:0},brushWidth:0,redrawBrush:!1,zoom:{enabled:!0,sensitivity:1,limits:{max:10,min:.5},zoomCumulativeDelta:0},playTimeLineStatus:!1,selectedStyleStatus:!0},o.default.TimeLine.types={brush:new l.default,zoom:new f.default},o.default.TimeLine.Element=m.default,o.default.pluginService.register(d.default),t.default=d.default},function(e,t){e.exports=Chart},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),o=a(n),u=(o.default.helpers,o.default.DatasetController.extend({initialize:function(){},positionInChartArea:function(e,t){if(o.default.TimeLine.configDefaults.brushPosition){var i=t.x-e.canvas.offsetLeft;o.default.TimeLine.configDefaults.brushPosition.right-e.canvas.offsetLeft;return i>=o.default.TimeLine.configDefaults.brushPosition.left&&i<=o.default.TimeLine.configDefaults.brushPosition.right&&t.y>=e.chartArea.top+e.canvas.offsetTop&&t.y<=e.chartArea.bottom+e.canvas.offsetTop}return!1},draw:function(e,t,i,a){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip(),e.strokeStyle="rgba(130,130,130,0.9)",e.fillStyle="rgba(130,130,130,0.3)",e.lineWidth=.5,e.fillRect(i,t.top,a,t.bottom-t.top),e.strokeRect(i,t.top,a,t.bottom-t.top),e.restore()},getIndexId:function(e,t){var i=-1;return e.config.data.datasets.forEach(function(e,a){e._id===t&&(i=a)}),i},filterDatasetsValues:function(e){var t=this,i=[];return e.config.data.datasets.map(function(a){var n=t.getIndexId(e,a._id);e.getDatasetMeta(n).hidden||i.push(a)}),i},getOffsetElement:function(e,t){var i=this.filterDatasetsValues(e),a=[];return i.forEach(function(e){var i=e._meta[0].data,n=[],o=function(t,i){n.push({value:e.data[t],source:i,index:t})};i.forEach(function(i,a){var n=i._view,u=n.width,l=n.x,r=n.radius,f=l-u/2,s=l+u/2,d=function(e){return e.left>=f&&e.left<=s||e.endX>=f&&e.endX<=s},c=function(){return f>=t.left&&f<=t.endX||s>=t.left&&s<=t.endX||f>=t.left&&s<=t.endX};"bar"===e.type?d(t)?o(a,i):c()&&o(a,i):l-r/2>=t.left&&l+r/2<=t.endX&&o(a,i)}),n.length?a.push({id:e._id,type:e.type,label:e.label,data:n,meta:e}):null}),a},createOrUpdateBrush:function(e){var t=o.default.TimeLine.configDefaults._mousedown,i=o.default.TimeLine.configDefaults._mouseup,a=void 0,n=void 0,u=void 0,l=void 0,r=void 0;if(t&&i&&(l=e.chart.ctx,u=Math.max(t.clientX,i.clientX)),o.default.TimeLine.configDefaults._selected&&e.canvas.style.cursor!==o.default.TimeLine.configDefaults._mouseStyle[0]){r=e.chartArea,a=t.target.getBoundingClientRect().left,n=Math.min(t.clientX,i.clientX);var f=n-a;f=f<=e.options.timeline.xAxesWidth?e.options.timeline.xAxesWidth:f;var s=u-a-f;o.default.TimeLine.configDefaults.brushWidth=s<r.right-r.left?s:r.right-r.left,this.draw(l,r,f,o.default.TimeLine.configDefaults.brushWidth),e.options.timeline.brushDisplay=!0,o.default.TimeLine.configDefaults.brushPosition={left:f,right:u-a,endX:u-a}}if(e.canvas.style.cursor===o.default.TimeLine.configDefaults._mouseStyle[0]){var d=i.clientX-i.target.getBoundingClientRect().left-o.default.TimeLine.configDefaults.brushPosition.offsetX;d=d<=e.options.timeline.xAxesWidth?e.options.timeline.xAxesWidth:d,this.draw(l,e.chartArea,d,o.default.TimeLine.configDefaults.brushWidth),o.default.TimeLine.configDefaults.inBrushDrag=!0,o.default.TimeLine.configDefaults.brushPosition.left=d,o.default.TimeLine.configDefaults.brushPosition.endX=o.default.TimeLine.configDefaults.brushPosition.right=d+o.default.TimeLine.configDefaults.brushWidth}if(o.default.TimeLine.configDefaults.brushPosition&&e.options.timeline.brushDisplay){var c=this.getOffsetElement(e,o.default.TimeLine.configDefaults.brushPosition);if(e.options.timeline.onSelected(c),o.default.TimeLine.configDefaults.selectedStyleStatus){var m=e.config.data.datasets;this.clearChartStyle(e),c.map(function(t){var i=[],a=e.options.timeline.selected.style.filter(function(e){return e._id===t.id})[0],n=m.filter(function(e){return e._id===t.id})[0];t.data.map(function(e){i.push(e.index)});var o=[];i.forEach(function(e){o[e]=a.color}),"bar"===t.type?n.backgroundColor=o:n.pointBackgroundColor=o}),e.update(1)}}},clearChartStyle:function(e){e.config.data.datasets.map(function(e){"bar"===e.type?e.backgroundColor=[]:e.pointBackgroundColor=[]})},destroy:function(e){e.canvas.style.cursor="default",o.default.TimeLine.configDefaults.redrawBrush=!1,o.default.TimeLine.configDefaults.inBrush=!1,e.options.timeline.brushDisplay=!1,o.default.TimeLine.configDefaults.brushDisplay=!1,o.default.TimeLine.configDefaults.brushPosition={left:0,right:0,endX:0},this.clearChartStyle(e),e.update(0)},playBrush:function(e){},stopBrush:function(e){},restoreBrush:function(e){}}));t.default=u},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),o=a(n),u=o.default.helpers,l=o.default.DatasetController.extend({initialize:function(e,t){},rangeMaxLimiter:function(e,t){if(e.rangeMax&&!u.isNullOrUndef(e.rangeMax[e.scaleAxes])){var i=e.rangeMax[e.scaleAxes];t>i&&(t=i)}return t},rangeMinLimiter:function(e,t){if(e.rangeMin&&!u.isNullOrUndef(e.rangeMin[e.scaleAxes])){var i=e.rangeMin[e.scaleAxes];t<i&&(t=i)}return t},zoomTimeScale:function(e,t,i,a){var n,o,u=e.options;e.isHorizontal()?(n=e.right-e.left,o=(i.x-e.left)/n):(n=e.bottom-e.top,o=(i.y-e.top)/n);var l=1-o,r=n*(t-1),f=r*o,s=r*l,d=e.getValueForPixel(e.getPixelForValue(e.min)+f),c=e.getValueForPixel(e.getPixelForValue(e.max)-s),m=c.diff(d),h=this.rangeMinLimiter(a,m)!=m,g=this.rangeMaxLimiter(a,m)!=m;h||g||(u.time.min=d,u.time.max=c)},zoomIndexScale:function(e,t,i,a){var n=e.chart.data.labels,u=e.minIndex||0,l=n.length-1,r=e.maxIndex||e.chart.data.labels.length,f=a.sensitivity,s=e.isHorizontal()?e.left+e.width/2:e.top+e.height/2,d=e.isHorizontal()?i.x:i.y,c=o.default.TimeLine.configDefaults.zoom;c.zoomCumulativeDelta=t>1?c.zoomCumulativeDelta+1:c.zoomCumulativeDelta-1,Math.abs(c.zoomCumulativeDelta)>f&&(c.zoomCumulativeDelta<0?(d>=s?u<=0?r=Math.min(l,r+1):u=Math.max(0,u-1):d<s&&(r>=l?u=Math.max(0,u-1):r=Math.min(l,r+1)),c.zoomCumulativeDelta=0):c.zoomCumulativeDelta>0&&(d>=s?u=u<r?u=Math.min(r,u+1):u:d<s&&(r=r>u?r=Math.max(u,r-1):r),c.zoomCumulativeDelta=0),e.options.ticks.min=this.rangeMinLimiter(a,n[u]),e.options.ticks.max=this.rangeMaxLimiter(a,n[r]))},draw:function(e,t,i,a){var n=this,l=e.chartArea;i||(i={x:(l.left+l.right)/2,y:(l.top+l.bottom)/2});var r=e.options.timeline.zoom;r&&u.getValueOrDefault(r.enabled,o.default.TimeLine.configDefaults.zoom.enabled)&&(r.sensitivity=u.getValueOrDefault(r.sensitivity,o.default.TimeLine.configDefaults.zoom.sensitivity),u.each(e.scales,function(a,o){var u=e.options.scales.xAxes[0].type;a.isHorizontal()&&(void 0!==u&&"time"===u?n.zoomTimeScale(a,t,i,r):n.zoomIndexScale(a,t,i,r))}),e.update(0))}});t.default=l},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),o=a(n),u=i(5),l=a(u);t.default={beforeInit:function(e){l.default.onClick(e,e.options.timeline.onClick),l.default.proxyEvent(e,["mouseout","mouseup"]),l.default.onMousedown(e),l.default.onMousemove(e),e.options.timeline.zoom&&e.options.timeline.zoom.enabled&&l.default.onWheel(e)},beforeUpdate:function(e){},afterScaleUpdate:function(e){},beforeDatasetsDraw:function(e){},afterDatasetsDraw:function(e){var t=o.default.TimeLine.types;t.brush.createOrUpdateBrush(e)},afterDraw:function(e){},afterInit:function(e){},destroy:function(e){},afterRender:function(e){if(e.tooltip._active&&0===e.tooltip._active.length&&o.default.TimeLine.configDefaults.redrawBrush){var t=o.default.TimeLine.types.brush;t.draw(e.chart.ctx,e.chartArea,o.default.TimeLine.configDefaults.brushPosition.left,o.default.TimeLine.configDefaults.brushWidth)}},beforeDraw:function(){},beforeDatasetDraw:function(){},resize:function(){}}},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),o=a(n),u=i(6),l=a(u),r=o.default.helpers;t.default={proxyEvent:function(e,t){Array.isArray(t)&&t.forEach(function(t){r.addEvent(e.chart.canvas,t,function(e){o.default.TimeLine.configDefaults._mouseup=e,o.default.TimeLine.configDefaults._selected=!1,o.default.TimeLine.configDefaults.inBrush=!1,o.default.TimeLine.configDefaults.inBrushDrag=!1,e.stopImmediatePropagation()})})},onClick:function(e,t){var i=!1;return"function"==typeof t&&r.addEvent(e.chart.canvas,"click",function(a){var n=e.getElementAtEvent(a)[0];n&&(o.default.TimeLine.configDefaults.brushDisplay||o.default.TimeLine.configDefaults.inBrushDrag?null:t(l.default.getElement(e,a)),i=!0)}),i},onMousedown:function(e){var t=e.chart.ctx.canvas;r.addEvent(t,"mousedown",function(e){if(o.default.TimeLine.configDefaults._mousedown=e,o.default.TimeLine.configDefaults._selected=!0,o.default.TimeLine.configDefaults.inBrush||o.default.TimeLine.configDefaults.inBrushDrag){var t=e.clientX-(e.target.getBoundingClientRect().left+o.default.TimeLine.configDefaults.brushPosition.left);o.default.TimeLine.configDefaults.brushPosition.offsetX=t>0?t:0,e.stopImmediatePropagation()}})},onMousemove:function(e){var t=e.chart.ctx.canvas,i=o.default.TimeLine.types.brush;r.addEvent(t,"mousemove",function(t){if(e.tooltip._active&&e.tooltip._active.length){var a=o.default.TimeLine.configDefaults.brushPosition;0!==a.left&&0!==a.endX&&(o.default.TimeLine.configDefaults.redrawBrush=!0)}if(o.default.TimeLine.configDefaults.inBrush=i.positionInChartArea(e,{x:t.clientX,y:t.clientY}),o.default.TimeLine.configDefaults._mousedown&&o.default.TimeLine.configDefaults._selected&&(o.default.TimeLine.configDefaults._mouseup=t,e.update(0)),e.options.timeline.brushDisplay&&!o.default.TimeLine.configDefaults._selected&&!o.default.TimeLine.configDefaults.inBrushDrag){var n=o.default.TimeLine.configDefaults.inBrush?0:1;e.canvas.style.cursor=o.default.TimeLine.configDefaults._mouseStyle[n]}(o.default.TimeLine.configDefaults.inBrush||o.default.TimeLine.configDefaults.inBrushDrag)&&t.stopImmediatePropagation()})},onWheel:function(e){var t=e.chart.ctx.canvas,i=o.default.TimeLine.types.zoom;r.addEvent(t,"wheel",function(t){var a=t.target.getBoundingClientRect(),n=t.clientX-a.left,o=t.clientY-a.top,u={x:n,y:o};t.deltaY<0?i.draw(e,1.1,u):i.draw(e,.9,u)})}}},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),n=function(){function e(){i(this,e)}return a(e,[{key:"addLayerData",value:function(e,t){var i=this;this.isArray(t),t.map(function(t){var a=e.data.datasets.filter(function(e){return e._id===t._id})||[];if(a.length)return void i.updateLayerData(e,[t]);var n=[];t.data.map(function(t,i){if("[object Object]"===Object.prototype.toString.call(t)){var a=e.data.labels.indexOf(t.x);a>-1&&(n[a]=t.y)}else void 0!==t?n[i]=t:null===t?n[i]=null:n[i]=void 0}),t.data=n,e.data.datasets.push(t)}),e.update()}},{key:"removeLayerData",value:function(e,t){this.isArray(t);var i=[];t.map(function(e){i.push({_id:e.id,data:[{x:e.key,y:null}]})}),this.updateLayerData(e,i)}},{key:"toggleLayer",value:function(e,t,i){var a=0;e.data.datasets.map(function(e,i){e._id===t&&(a=i)}),"boolean"!=typeof i&&(i=!e.getDatasetMeta(a).hidden),e.getDatasetMeta(a).hidden=i,e.update()}},{key:"getElement",value:function(e,t,i){var a=e.getElementAtEvent(t)[0],n=e.config.data.datasets[a._datasetIndex],o=e.getDatasetMeta(a._datasetIndex);n.data.filter(function(e){return e._view===a._view});return{id:n._id,type:n.type,label:n.label,data:{value:n.data[a._index],source:a,index:a._index},meta:o}}},{key:"isArray",value:function(e){if(!Array.isArray(e))return void console.error("param is not Array")}},{key:"updateLayerData",value:function(e,t){this.isArray(t);try{t.map(function(t){var i=e.data.datasets.filter(function(e){return e._id===t._id})[0];return i?void t.data.map(function(t,a){if("[object Object]"===Object.prototype.toString.call(t)){var n=e.data.labels.indexOf(t.x);n>-1&&(i.data[n]=t.y)}else void 0!==t&&(i.data[a]=t)}):void console.error("According to the configuration data did not match the data set")}),e.update()}catch(e){console.error("The data format is incorrect and the update failed!",e)}}}]),e}();t.default=new n}]);